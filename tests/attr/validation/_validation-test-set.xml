<?xml version="1.0" encoding="UTF-8"?>
<test-set xmlns:xs="http://www.w3.org/2001/XMLSchema"
          xmlns="http://www.w3.org/2012/10/xslt-test-catalog"
          name="validation">
   <description>Tests validation</description>
   
   <environment name="validation-01">
      <source role=".">
         <content><![CDATA[<doc/>]]></content>
      </source>
   </environment>
   
   <environment name="validation-02">
      <source role="." validation="strict" file="validation-02.xml"/>
      <schema file="gedSchema.xsd"/>
      <schema file="xhtml1-transitional.xsd" role="secondary"/>
      <schema file="xml.xsd" role="secondary"/>
      <schema file="validation-10.xsd" role="secondary"/>
   </environment>
   
   <environment name="validation-10">
      <source role="." validation="strict" file="validation-10.xml"/>
      <schema file="validation-10.xsd"/>
   </environment>
   
   <environment name="validation-20">
      <source validation="strict" file="validation-20.xml" uri="validation-20.xml"/>
      <source validation="strict" file="validation-20a.xml" uri="validation-20a.xml"/>
      <schema file="validation-12.xsd"/>
   </environment>

   

   <test-case name="validation-0003">
      <description>Use on-empty attribute on xsl:attribute (XSLT 3.0) - content is now validated if on-empty triggered</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <modified by="Michael Kay" on="2013-07-26" change="validation now takes place"/>
      <dependencies>
         <spec value="XSLT30+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0003.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <!--<assert-xml><![CDATA[<out>empty</out>]]></assert-xml>-->
         <error code="XXXX9999"/>
      </result>
   </test-case>
   
   <test-case name="validation-0003a">
      <description>Use on-empty attribute on xsl:attribute (XSLT 3.0) - on-empty result must be an attribute node or nothing</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <dependencies>
         <spec value="XSLT30+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0003.xsl"/>
         <initial-template name="a"/>
      </test>
      <result>
         <!--<assert-xml><![CDATA[<out>empty</out>]]></assert-xml>-->
         <error code="XXXX9999"/>
      </result>
   </test-case>

   <test-case name="validation-0004">
      <description>
      	Erratum E10: validation of an attribute may cause a failure even if the attribute is subsequently 
      	overwritten by a valid attribute. Note, a processor is not required to detect this failure. 
      </description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
        <schema file="validation-0004.xsd" role="stylesheet-import"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0004.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <any-of>
           <error code="XTTE1510"/>
           <assert-xml><![CDATA[<IndividualRec Id="ABCD" Gender="F"/>]]></assert-xml>
         </any-of>  
      </result>
   </test-case>

   <test-case name="validation-0005">
      <description>
      	Erratum E12: validation uniqueness constraints when validating at element level. Note, the expected 
      	result given in the test catalog is failure, but a processor is not required to detect this failure 
      	(the erratum only says it "should" detect it). We don't currently have a way of representing this 
      	alternative result.</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
        <schema file="gedSchema.xsd" role="stylesheet-import"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0005.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <error code="XTTE1510"/>
      </result>
   </test-case>

   <test-case name="validation-0006">
      <description>Validate standalone (parentless) attribute</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <dependencies>
         <spec value="XSLT30+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0006.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <error code="XTTE1555"/>
      </result>
   </test-case>

   <test-case name="validation-0101">
      <description>
      	Test that an error is raised if @validation=strict is present in the stylesheet 
      	but the processor is a non-schema-aware processor.
      </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="validation-01"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware" satisfied="false"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0101.xsl"/>
      </test>
      <result>
         <error code="XTSE1660"/>
      </result>
   </test-case>

   <test-case name="validation-0102">
      <description>
      	Test that an error is raised if @validation=lax is present in the stylesheet 
      	but the processor is a non-schema-aware processor.
      	TODO: the rules have changed for XSLT 3.0
      </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="validation-01"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware" satisfied="false"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0102.xsl"/>
      </test>
      <result>
         <error code="XTSE1660"/>
      </result>
   </test-case>

   <test-case name="validation-0103">
      <description>
      	Test that an error is raised if @validation=preserve is present in the stylesheet 
      	but the processor is a non-schema-aware processor.
      </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="validation-01"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware" satisfied="false"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0103.xsl"/>
      </test>
      <result>
         <error code="XTSE1660"/>
      </result>
   </test-case>

   <test-case name="validation-0104">
      <description>
      	Test that an error is raised if @default-validation=strict is present in the stylesheet 
      	but the processor is a non-schema-aware processor.
      </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="validation-01"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware" satisfied="false"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0104.xsl"/>
      </test>
      <result>
         <error code="XTSE1660"/>
      </result>
   </test-case>

   <test-case name="validation-0105">
      <description>
      	Test that an error is raised if @validation=strip is present in the stylesheet 
      	but the processor is a non-schema-aware processor.
      </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="validation-01"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware" satisfied="false"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0105.xsl"/>
      </test>
      <result>
         <error code="XTSE1660"/>
      </result>
   </test-case>

   <test-case name="validation-0106">
      <description>
      	Test that an error is raised if @default-validation=preserve is present in the 
      	stylesheet but the processor is a non-schema-aware processor.
      </description>
      <created by="Michael Kay" on="2012-10-30"/>
      <environment ref="validation-01"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware" satisfied="false"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0106.xsl"/>
      </test>
      <result>
         <error code="XTSE1660"/>
      </result>
   </test-case>
   
   <test-case name="validation-0107">
      <description>
      	Test validation with type="xs:untyped". Bugzilla 17480.
      </description>
      <created by="Michael Kay" on="2013-02-12"/>
      <modified by="Michael Kay" on="2013-04-04" change="fix bug 21153"/>
      <environment ref="validation-01"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware" satisfied="true"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0107.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <all-of>
           <assert>/out/@a = "true"</assert>
           <assert>/out/@b = "true"</assert>
           <assert>/out/@c = "true"</assert>
           <assert>/out/@d = "true"</assert>
         </all-of>
      </result>
   </test-case>
   
   <test-case name="validation-0108">
      <description>
      	Test validation with type="xs:untypedAtomic". Bugzilla 17480.
      </description>
      <created by="Michael Kay" on="2013-02-12"/>
      <modified by="Michael Kay" on="2013-04-04" change="fix bug 21153"/>
      <environment ref="validation-01"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware" satisfied="true"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0108.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <all-of>
           <assert>/out/@a = "true"</assert>
           <assert>/out/@b = "true"</assert>
         </all-of>
      </result>
   </test-case>
   
   <test-case name="validation-0109">
      <description>
      	Test unsuccessful validation with type="xs:untypedAtomic". Bugzilla 17480.
      </description>
      <created by="Michael Kay" on="2013-02-12"/>
      <modified by="Michael Kay" on="2013-04-04" change="fix bug 21153"/>
      <environment ref="validation-01"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware" satisfied="true"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0109.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <error code="XTTE1540"/>
      </result>
   </test-case>

   <test-case name="validation-0201">
      <description>
      	A "system test" of schema-aware processing import the schema for the GEDCOM 6.0 vocabulary. 
        Imports the schema for the target XHTML vocabulary 
      </description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0201.xsl"/>
      </test>
      <result>
         <assert-serialization method="xhtml" file="schvalid001.out"/>
      </result>
   </test-case>

   <test-case name="validation-0202">
      <description>
      	A complex test creating multiple HTML output documents that are validated
      	against a schema for XHTML
      </description>
      <created by="Michael Kay" on="2012-11-07"/>
      <modified by="Michael Kay" on="2013-04-05" change="revamped assertions to avoid serialization dependencies"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0202.xsl" role="principal"/>
         <stylesheet file="validation-0202-person.xsl" role="secondary"/>
      </test>
      <result xmlns:h="http://www.w3.org/1999/xhtml">
         <all-of>
            <assert-result-document uri="validation-0202-out/index.xhtml">
               <all-of>
                  <assert>/h:html/h:head/h:title/normalize-space() = "Index of names"</assert>
                  <assert>/h:html/h:body/h:h1 = "Index of names"</assert>
                  <assert>/h:html/h:body/h:h2[1] = ""</assert>
                  <assert>/h:html/h:body/h:h2[2] = "Bennett"</assert>
                  <assert>/h:html/h:body/h:h2[3] = "Bouvier"</assert>
                  <assert>/h:html/h:body/h:p[3]/normalize-space() = "Jaqueline Lee Bouvier"</assert>
                </all-of>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I1.xhtml">
               <all-of>
                  <assert>/h:html/h:head/h:title/normalize-space() = "John Fitzgerald Kennedy"</assert>
                  <assert>/h:html/h:body/h:h1/normalize-space() = "John Fitzgerald Kennedy"</assert>
                  <assert>/h:html/h:body/h:table[1]/h:tr[1]/h:td[1]/h:p[1]/text()[1] = "29 May 1917"</assert>
                  <assert>/h:html/h:body/h:table[1]/h:tr[1]/h:td[1]/h:p[1]/text()[2] = "Brookline, MA, USA"</assert>
                </all-of>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I2.xhtml">
               <assert>/h:html/h:head/h:title/normalize-space() = "Jaqueline Lee Bouvier"</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I3.xhtml">
               <assert>/h:html/h:head/h:title/normalize-space() = "John Vernou Bouvier III"</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I4.xhtml">
               <assert>/h:html/h:head/h:title/normalize-space() = "Janet Norton Lee"</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I5.xhtml">
               <assert>/h:html/h:head/h:title/normalize-space() = "Caroline Bouvier Kennedy"</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I6.xhtml">
               <assert>/h:html/h:head/h:title/normalize-space() = "John Fitzgerald Kennedy"</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I7.xhtml">
               <assert>/h:html/h:head/h:title/normalize-space() = "Patrick Bouvier Kennedy"</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I8.xhtml">
               <assert>/h:html/h:head/h:title/normalize-space() = "Joseph Patrick Kennedy"</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I9.xhtml">
               <assert>/h:html/h:head/h:title/normalize-space() = "Rose Elizabeth Fitzgerald"</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I10.xhtml">
               <assert>/h:html/h:head/h:title/normalize-space() = "Joseph Patrick Kennedy Jr"</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I11.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I12.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I13.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I14.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I15.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I17.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I18.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I19.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I20.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I21.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I22.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I23.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I24.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
            <assert-result-document uri="validation-0202-out/I25.xhtml">
               <assert>/h:html/h:head/h:title</assert>
            </assert-result-document>
         </all-of>
      </result>
   </test-case>

   <test-case name="validation-0203">
      <description>validation attribute of xsl:copy-of is ignored if node is not an element or attribute</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0203.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<root xmlns:xs="http://www.w3.org/2001/XMLSchema">2010-01-25Z</root>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0204">
      <description>validation attribute of xsl:copy-of is ignored if node is not an element or attribute</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0204.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<root xmlns:xs="http://www.w3.org/2001/XMLSchema">Hello!</root>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0205">
      <description>validation attribute of xsl:copy-of is ignored if node is not an element or attribute</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0205.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<root xmlns:xs="http://www.w3.org/2001/XMLSchema"><!--Hello!--></root>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0206">
      <description>validation attribute of xsl:copy-of is ignored if node is not an element or attribute</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0206.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<root xmlns:xs="http://www.w3.org/2001/XMLSchema">21</root>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0207">
      <description>validation attribute of xsl:copy-of is ignored if node is not an element or attribute</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0207.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<root xmlns:xs="http://www.w3.org/2001/XMLSchema"><?say Hello!?></root>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0208">
      <description>validation attribute of xsl:copy-of is ignored if node is not an element or attribute</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0208.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<root xmlns:xs="http://www.w3.org/2001/XMLSchema"><?say Hello!?></root>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0209">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0209.xsl"/>
      </test>
      <result>
         <error code="XTTE1540"/>
      </result>
   </test-case>

   <test-case name="validation-0210">
      <description>test impact of input-type-annotations: inconsistent across modules</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-02"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0210.xsl"/>
      </test>
      <result>
         <error code="XTSE0265"/>
      </result>
   </test-case>

   <test-case name="validation-0301">
      <description>show atomization of type-annotated element nodes</description>
      <created by="Michael Kay" on="2012-11-07"/>      
      <environment>
         <source role="." validation="strict">
            <content><![CDATA[<numbers xmlns="http://ns.example.com/val03/">12  34.5  18.2  5</numbers>]]></content>
         </source>
         <schema file="validation-03.xsd"/>
   	  </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0301.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<total values="12 46.5 64.7 69.7"/>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0401">
      <description>This stylesheet looks for cycles in the attribute set definitions within a stylesheet</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role="." validation="strict" file="validation-04.xml"/>
         <schema file="schema-for-xslt20.xsd"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0401.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<result cyclic-attribute-sets="A B D"/>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0501">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role="." validation="strict" file="validation-05.xml"/>
         <schema file="schema-for-xslt20.xsd"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0501.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<z>108</z>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0601">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role="." validation="strict" file="validation-06.xml"/>
         <schema file="schema-for-xslt20.xsd"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0601.xsl"/>
      </test>
      <result>
         <assert-xml file="validation-0601.out"/>
      </result>
   </test-case>

   <test-case name="validation-0701">
      <description>match XSLT elements match literal result elements</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <modified by="Tim MIlls" on="2012-12-18" change="Removed whitespace"/>
      <environment>
         <source role="." validation="strict" file="validation-07.xml"/>
         <schema file="schema-for-xslt20.xsd"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0701.xsl"/>
      </test>
      <result>
         <assert-xml file="validation-0701.out"/>
      </result>
   </test-case>

   <test-case name="validation-0801">
      <description/>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role="." validation="strict" file="validation-08.xml"/>
         <schema file="validation-08.xsd"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0801.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><p1 a="true"/><p2 a="true"/></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-0901">
      <description>show that whitespace stripping is not allowed on an element with simple content import the schema for the GEDCOM 6.0 vocabulary</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role="." validation="strict" file="validation-09.xml"/>
         <schema file="gedSchema.xsd"/>
      </environment>
      <dependencies>
         <spec value="XSLT10+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-0901.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<a xmlns="http://www.w3.org/1999/xhtml" c="540">x</a>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-1001">
      <description>test impact of input-type-annotations expected result changed 2010-07-13 as a result of decision on spec bug 10065 (test bug 891)</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-10"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-1001.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><p1 a="false"/><p2 a="false"/></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-1002">
      <description>PURPOSE : test impact of input-type-annotations</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-10"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-1002.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<out><p1 a="true"/><p2 a="true"/></out>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-1101">
      <description>show that if an element is validated as numeric, numeric comparison is OK</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role="." validation="strict">
            <content><![CDATA[<test xmlns="http://ns.example.com/val11/">8</test>]]></content>
         </source>
         <schema file="validation-11.xsd"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-1101.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<a xmlns:t="http://ns.example.com/val11/">true</a>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-1201">
      <description>show the nilled() function</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role="." validation="strict">
            <content><![CDATA[<test xmlns="http://ns.example.com/val12/"
                                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>]]></content>
         </source>
         <schema file="validation-12.xsd"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-1201.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<z xmlns:t="http://ns.example.com/val12/"><a>true</a><a>false</a></z>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-1401">
      <description>test use of a path expression containing an axis step referring to document-node(element(X))</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment>
         <source role="." validation="strict">
            <content><![CDATA[<test xmlns="http://schvalid016.uri/"><content>12</content></test>]]></content>
         </source>
         <schema file="validation-14.xsd"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-1401.xsl"/>
      </test>
      <result>
         <assert-xml><![CDATA[<z xmlns:t="http://schvalid016.uri/"><f match="yes"><a>found</a></f><g match="no"/><h match="no"/></z>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-1501">
      <description>
      	Test use of schema-based idref() function.
      	Note the schema used is inline in the stylesheet.
      </description>
      <created by="Michael Kay" on="2012-11-07"/>
      <modified by="Tim MIlls" on="2012-12-18" change="Removed whitespace"/>
      <environment>
        <source role="." validation="lax" file="validation-15.xml"/>
      </environment>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-1501.xsl"/>
      </test>
      <result>
         <assert-xml file="validation-1501.out"/>
      </result>
   </test-case>
   
   <test-case name="validation-2001">
      <description>show patterns matching against nilled and unnilled elements in the source</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <environment ref="validation-20"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-2001.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <assert-xml><![CDATA[<z xmlns:t="http://ns.example.com/val12/"><a>nilled</a><a>not nilled</a></z>]]></assert-xml>
      </result>
   </test-case>

   <test-case name="validation-2002">
      <description>show templates matching against validated elements from the source document</description>
      <created by="Michael Kay" on="2012-11-07"/>
      <modified by="Tim MIlls" on="2012-12-18" change="Removed whitespace"/>
      <environment ref="validation-20"/>
      <dependencies>
         <spec value="XSLT20+"/>
         <feature value="schema_aware"/>
      </dependencies>
      <test>
         <stylesheet file="validation-2002.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <assert-xml><![CDATA[<z xmlns:t="http://ns.example.com/val12/"><a>schema-element() matches when nilled=true</a><a>schema-element() matches when nilled=false</a></z>]]></assert-xml>
      </result>
   </test-case>
   
</test-set>
